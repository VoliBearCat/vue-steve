webpackJsonp([1],{13:function(e,t,i){i(21);var o=i(6)(i(53),i(19),null,null);e.exports=o.exports},15:function(e,t,i){t=e.exports=i(5)(!0),t.push([e.i,"*{margin:0;padding:0}#app{background:#666}","",{version:3,sources:["E:/WebStormProject/vue-steve/src/App.vue"],names:[],mappings:"AACA,EACE,SAAU,AACV,SAAW,CACZ,AACD,KACE,eAAiB,CAClB",file:"App.vue",sourcesContent:["\n*{\r\n  margin: 0;\r\n  padding: 0;\n}\n#app {\r\n  background: #666;\n}\r\n"],sourceRoot:""}])},16:function(e,t,i){t=e.exports=i(5)(!0),t.push([e.i,".steve-container{position:relative;display:inline-block}","",{version:3,sources:["E:/WebStormProject/vue-steve/src/components/Steve.vue"],names:[],mappings:"AACA,iBACE,kBAAmB,AACnB,oBAAsB,CACvB",file:"Steve.vue",sourcesContent:["\n.steve-container {\r\n  position: relative;\r\n  display: inline-block;\n}\r\n"],sourceRoot:""}])},18:function(e,t,i){i(22);var o=i(6)(i(54),i(20),null,null);e.exports=o.exports},19:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("Steve",{attrs:{skinUrl:"./static/technologist.png",followMouseMode:"window-scope"}}),e._v(" "),i("Steve",{attrs:{skinUrl:"./static/KiritoGamer.png",followMouseMode:"window-scope"}}),e._v(" "),i("Steve",{attrs:{followMouseMode:"window-scope",rotationX:"-20"}}),e._v(" "),i("Steve",{attrs:{skinUrl:"./static/technologist.png",followMouse:"false",scale:"0.6"}}),e._v(" "),i("Steve",{attrs:{skinUrl:"./static/technologist.png",followMouseMode:"window-scope",walkable:"false",rotationX:"45",rotationY:"45"}}),e._v(" "),i("Steve",{attrs:{skinUrl:"./static/technologist.png",followMouseMode:"window-scope",pace:"0.3",speed:"1"}})],1)},staticRenderFns:[]}},20:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"steve-container"})},staticRenderFns:[]}},21:function(e,t,i){var o=i(15);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(7)("acf87826",o,!0)},22:function(e,t,i){var o=i(16);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(7)("4abc6f02",o,!0)},53:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(18),s=i.n(o);t.default={name:"app",components:{Steve:s.a}}},54:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(52),s=i.n(o),n=i(50),a=i.n(n),r=i(56),h=i.n(r),l=i(17);t.default={name:"steve",props:{width:{default:480,validator:function(e){return e>=0}},height:{default:640,validator:function(e){return e>=0}},pace:{default:.6,validator:function(e){return e>=0&&e<=1}},speed:{default:2},rotationX:{default:10},rotationY:{default:10},skinUrl:{default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAABGdBTUEAALGPC/xhBQAAABh0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjM2qefiJQAABONJREFUaEPll99rVEcUx6+IUk1ijbQYosYfG+OaRtb4g2JEY42/EYuRipqioqIxMQiLVlDE+INqKlSfAkq0UChIUXzwFyL2sU956X9TmofjfM/u9/ZknLs30cUN8cJh5s6cuTvfz5w5MzslSnmaF9QIXP4bGYmmT5um3qjjGfl3arT/28aSX7j9+p8pab8xofsBoLHuC8kt/FKN72iDnd+ek55NK+XnfWviEnW0wya0uLFMDoIpvql+ZiKATCYj1gBlUgDg6nPlURIKSkbApAVgxSICYHY7fBYAAMEXz3yQBKAz2zQ5tgDFQ/Dy+dUKYuHsqjghEgD2vG+TIgcAAIUzCpgMmQOY8UPlWBJtRX2y82YKDKKWzatSsasys2XFooLlFtXINw2FkyA7v0qPPviiDQDohzEYi2+gn99l0sQ4W8c7Iqmi4vHjFgAm3tIwS4VA4OrGWi1peN/cPEfam79WPwChD8agjVFiAZS6R1QcgE66rrBqBeFOmFvFxjq+18jLgTPy9te8/D3YL29v5139nDz+6ZCsWTpHx8AXYzA23i7um/h22j2i4gB0pepdKC+YVVhV944wRj23pFb+vHxSnt/o0/JJf58M5X+UNwN5GTq9Ww0+8MUYjEUd38I38Z52j5gYAOI8UC2ZuTPk5oE2GTq+VdqyX6l4PJ0bBuTFpVMqHnU8gAIf+GIMxjbVV8f7HwDS7hETB4BbMWyFloZaudHZKoNHvpNbh9Y5cdvk2aVj8upaPj7m/rp1Rn7v2S797s4PH/hiDMbiG1x9Aih1j6g4AIY9wvZYR04e9Hwv949v0T83ONbuHu5wAjfJhc1rR9mdwxvl6r516gNfjMFYfEO3QHE7pN0jKg4Ak6cAlEOnduiK/nJwvZzbkZOzW1ukr6NZxcIu7lkt139Yr4Y6fOD7W/dOHXv/xK5CWYRIkPYOgTrBVRyAP4H9O4fFWjabFWupEx4ejv8K+xejyPVFR4+WtrQfePRI9DswV8ftc2/r0rhMG57aXw4AoWsx2soCgOKL5ecNwEWAXX2F/LFPOSIg6b9BWSLA2wIfDWBlNi+wpsVdWm5r+2OU2T6/v611QKIrV/63ri6J7t2T6OFDTZg4Kpk80aZm/VFHG0TRnj6VCMb3JH/6+P0czzItIijwQwAAlgrq7i4Y6px4EQIAqEhOyPpjDPz9SVsA/Da/zz6UBGp//0MBMBLGEwEKIDRBThITRERYkdYf9ZB4GwUhwHaM3//JASDsKQp1OwECsG1J/gBFcLbuC7TR9KkiwOYB7HtrKh6iaJg8BUAQ62y3vgSGCAkBcONxKaPddJcv/P+whjbr4/enpYAolOQoECHu54j3AFhBgGEBhIRZYNwCoTHFbRMCMHi2K4aAfguhLABsHih1CsQ5gBAIgCFv9z9hEAC3jQ175goDxIpjBBAAyhAAbS9CGlMEMAGO9xgMngJ++FMUAfinQAhWAgCItSvsAwhtkbIAKAXovWPQJjz/BMB7Wtb2sjgjgGUIQKkckQqgvb1dYKWOQfTRr7e3V6zFgngh4er54c+E6AOw/vQxCdGK8yMAMGyOYL/dImMGkCSQ7Un9NkfgMuXfI/CuN0YDAH724sXEqveFIhC0YWwSAIoMRUjFAIRyCIEoBCcu9WrtfCxEf4VHJUCX6ELH4HgAvAMPTt9mhQSK5wAAAABJRU5ErkJggg=="},scale:{default:1,validator:function(e){return e>0}},followMouse:{default:"true",validator:function(e){return~["true","false"].indexOf(e)}},followMouseMode:{default:"box-scope",validator:function(e){return~["box-scope","window-scope"].indexOf(e)}},walkable:{default:"true",validator:function(e){return~["true","false"].indexOf(e)}}},data:function(){return{renderer:"",camera:"",scene:"",light:"",modelUV:{},skin:"",parts:{},model:{},stepDirection:1,baseValue:0,head_offset_x:0,head_offset_y:0,hover:!1,tempX:0,tempY:0,throttleSwich:!0}},mounted:function(){var e=this;this.initThree(),this.initCamera(),this.initScene(),this.initLight(),this.initObject(),setTimeout(function(){e.model.add(e.buildModel(h.a)),e.model.rotation.y=e.rotationX/180*Math.PI,e.model.rotation.x=e.rotationY/180*Math.PI,e.animation()},0)},methods:{initThree:function(){var e=this;this.renderer=new l.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(this.width,this.height),this.$el.appendChild(this.renderer.domElement),"true"==this.followMouse&&"window-scope"==this.followMouseMode?document.addEventListener("mousemove",function(t){if(e.throttleSwich){e.throttleSwich=!1,setTimeout(function(){e.throttleSwich=!0},5);var i=e.$el.getBoundingClientRect(),o=i.left+e.width/2,s=t.clientX-o,n=i.top+e.height/3,a=t.clientY-n;e.tempX=e.head_offset_x,e.tempY=e.head_offset_y;var r=e.rotationX/180*Math.PI,h=e.rotationY/360*Math.PI;0===s?e.tempX=-r:Math.abs(s)<=500?e.tempX=s/500*.6-r:Math.abs(s)<=1e3?e.tempX=(s>0?.5:-.5)+s/5e3-r:Math.abs(s)<=2e3?e.tempX=(s>0?.6:-.6)+s/1e4-r:e.tempX=(s>0?.8:-.8)-r,0===a?e.tempY=.1-h:Math.abs(a)<=300?e.tempY=a/1500+.1-h:Math.abs(a)<=900?e.tempY=(a>0?.2:a/6e3+.05)+a/3e3-h:e.tempY=(a>0?.5:-.4)-h,Math.abs(e.tempX)>Math.PI/3||e.tempY>Math.PI/5||e.tempY<-Math.PI/5?e.hover=!1:e.hover=!0}}):"true"==this.followMouse&&"box-scope"==this.followMouseMode&&this.renderer.domElement.addEventListener("mousemove",function(t){if(e.throttleSwich){e.throttleSwich=!1,setTimeout(function(){e.throttleSwich=!0},5);var i=t.offsetX,o=t.offsetY;e.tempX=e.head_offset_x,e.tempY=e.head_offset_y,0===i?e.tempX=-e.rotationX/180*Math.PI:Math.abs(i)<=e.width?e.tempX=2*(i-e.width/2)/e.width*.8-e.rotationX/180*Math.PI:e.tempX=0,0===o?e.tempY=.1-e.rotationY/360*Math.PI:Math.abs(o)<=e.height?e.tempY=2*(o-e.height/3)/e.height*.5+.1-e.rotationY/360*Math.PI:e.tempY=0,Math.abs(e.tempX)>Math.PI/3||e.tempY>Math.PI/5||e.tempY<-Math.PI/5?e.hover=!1:e.hover=!0}}),this.renderer.domElement.addEventListener("mouseout",function(t){e.hover=!1})},initCamera:function(){this.camera=new l.PerspectiveCamera(45,this.width/this.height,1,100),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=5,this.camera.up.x=0,this.camera.up.y=1,this.camera.up.z=0,this.camera.lookAt({x:0,y:0,z:0})},initScene:function(){this.scene=new l.Scene,this.scene.add(new l.AmbientLight(13421772))},initLight:function(){this.light=new l.PointLight(16777215),this.light.position.set(0,3,10),this.scene.add(this.light)},initObject:function(){var e=this,t=new l.TextureLoader;this.skin=t.load(this.skinUrl),this.skin.magFilter=l.NearestFilter,this.skin.minFilter=l.NearestFilter,this.modelUV.materials=[new l.MeshBasicMaterial({map:this.skin,side:l.DoubleSide,transparent:!1,color:16777215}),new l.MeshBasicMaterial({map:this.skin,side:l.DoubleSide,transparent:!0,color:16777215})],this.modelUV.uRatio=1/64,this.modelUV.vRatio=1/32,this.modelUV.mapUV=function(t,i){var o,s,n,a,r,h,l,d,u;for(o=d=0;d<6;o=++d)n=4*o,u=i.slice(n,n+4),a=u[0],h=u[1],r=u[2],l=u[3],s=t.faceVertexUvs[0][2*o],s[0].set(a*e.modelUV.uRatio,h*e.modelUV.vRatio),s[1].set(a*e.modelUV.uRatio,l*e.modelUV.vRatio),s[2].set(r*e.modelUV.uRatio,h*e.modelUV.vRatio),s=t.faceVertexUvs[0][2*o+1],s[0].set(a*e.modelUV.uRatio,l*e.modelUV.vRatio),s[1].set(r*e.modelUV.uRatio,l*e.modelUV.vRatio),s[2].set(r*e.modelUV.uRatio,h*e.modelUV.vRatio)},this.modelUV.recenter=function(e,t){var i,o,s,n;o=t[0],s=t[1],n=t[2],i=new l.Matrix4,i.makeTranslation(-o,-s,-n),e.applyMatrix(i)},this.model=new l.Object3D,this.model.scale.set(.1*this.scale,.1*this.scale,.1*this.scale),this.scene.add(this.model)},animation:function(){this.tasks,this.walkAction(),this.followMouseAction(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animation)},walkAction:function(){"true"===this.walkable&&(this.armL_x=this.legR_x=this.legR_x=this.baseValue=this.baseValue+this.stepDirection*this.speed/100,this.armR_x=this.legL_x=-this.baseValue+this.stepDirection*this.speed/100,this.model.rotation.y=this.model.rotation.y+this.baseValue/400,this.head_y=this.baseValue/-8,this.head_x=this.baseValue/24,Math.abs(this.baseValue)>this.pace&&(this.stepDirection*=-1))},followMouseAction:function(){"true"===this.followMouse&&(this.hover?(this.head_offset_x-this.tempX>.2?this.head_offset_x-=.08:this.head_offset_x-this.tempX<-.2?this.head_offset_x+=.08:this.head_offset_x=this.tempX,this.head_offset_y-this.tempY>.2?this.head_offset_y-=.08:this.head_offset_y-this.tempY<-.2?this.head_offset_y+=.08:this.head_offset_y=this.tempY):(this.head_offset_x>.01?this.head_offset_x-=.01:this.head_offset_x<-.01&&(this.head_offset_x+=.01),this.head_offset_y>.01?this.head_offset_y-=.01:this.head_offset_y<-.01&&(this.head_offset_y+=.01)),this.head_y=this.baseValue/-8+this.head_offset_x,this.head_x=this.baseValue/24+this.head_offset_y)},loadSkin:function(e){this.skin.image.src=e},buildModel:function(e){var t,i,o,n,r,h,d,u,c,f,p,m,A=this;if(e.size?(f=e.size,d=f[0],n=f[1],i=f[2],o=new l.BoxGeometry(d,n,i,1,1,1),null!=e.anchor&&this.modelUV.recenter(o,e.anchor),null!=e.uv&&this.modelUV.mapUV(o,e.uv),r=new l.Mesh(o,this.modelUV.materials[+!!e.transparent])):r=new l.Object3D,null!=e.eulerOrder&&(r.rotation.order=e.eulerOrder),null!=e.children){for(p=e.children,u=0,c=p.length;u<c;u++)h=p[u],t=this.buildModel(h),r.add(t);r.traverse(function(e){if(e.name){var t;a()(A,(t={},s()(t,e.name+"_x",{set:function(t){e.rotation.x=t},get:function(){return e.rotation.x}}),s()(t,e.name+"_y",{set:function(t){e.rotation.y=t},get:function(){return e.rotation.y||0}}),s()(t,e.name+"_z",{set:function(t){e.rotation.z=t},get:function(){return e.rotation.z||0}}),t))}})}return null!=e.name&&(r.name=e.name),null!=e.offset&&(m=r.position).set.apply(m,e.offset),r}}}},55:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(14),s=i(13),n=i.n(s);o.a.config.productionTip=!1,new o.a({el:"#app",template:"<App/>",components:{App:n.a}})},56:function(e,t){e.exports={name:"torso",size:[8,12,4],uv:[28,12,32,0,16,12,20,0,20,16,28,12,28,16,32,12,20,12,28,0,32,12,40,0],children:[{name:"head",eulerOrder:"YXZ",offset:[0,6,0],children:[{size:[8,8,8],anchor:[0,-4,0],uv:[16,24,24,16,0,24,8,16,8,32,16,24,16,32,24,24,8,24,16,16,24,24,32,16]},{size:[9,9,9],anchor:[0,-4,0],transparent:!0,uv:[48,24,56,16,32,24,40,16,40,32,48,24,48,32,56,24,40,24,48,16,56,24,64,16]}]},{name:"armR",eulerOrder:"ZXY",size:[3,12,3],anchor:[0,4,0],offset:[-5.5,4,0],uv:[48,12,52,0,40,12,44,0,44,16,48,12,48,16,52,12,44,12,48,0,52,12,56,0]},{name:"armL",eulerOrder:"ZXY",size:[3,12,3],anchor:[0,4,0],offset:[5.5,4,0],uv:[44,12,40,0,52,12,48,0,44,16,48,12,48,16,52,12,48,12,44,0,56,12,52,0]},{name:"legR",size:[4,12,4],anchor:[0,4,0],offset:[-2,-8,0],uv:[8,12,12,0,0,12,4,0,4,16,8,12,8,16,12,12,4,12,8,0,12,12,16,0]},{name:"legL",size:[4,12,4],anchor:[0,4,0],offset:[2,-8,0],uv:[4,12,0,0,12,12,8,0,8,16,4,12,12,16,8,12,8,12,4,0,16,12,12,0]}]}}},[55]);
//# sourceMappingURL=vue-steve.925461144f6a9627364b.js.map