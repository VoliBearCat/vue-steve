!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("three")):"function"==typeof define&&define.amd?define(["three"],e):"object"==typeof exports?exports.VueSteve=e(require("three")):t.VueSteve=e(t.three)}(this,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=47)}([function(t,e,n){t.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(5),o=n(29),r=n(39),s=Object.defineProperty;e.f=n(0)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(3);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(2),o=n(1),r=n(23),s=n(28),a=function(t,e,n){var u,h,c,f=t&a.F,l=t&a.G,d=t&a.S,p=t&a.P,m=t&a.B,v=t&a.W,b=l?o:o[e]||(o[e]={}),g=b.prototype,y=l?i:d?i[e]:(i[e]||{}).prototype;l&&(n=e);for(u in n)(h=!f&&y&&void 0!==y[u])&&u in b||(c=h?y[u]:n[u],b[u]=l&&"function"!=typeof y[u]?n[u]:m&&h?r(c,i):v&&y[u]==c?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?r(Function.call,c):c,p&&((b.virtual||(b.virtual={}))[u]=c,t&a.R&&g&&!g[u]&&s(g,u,c)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(30),o=n(24);t.exports=function(t){return i(o(t))}},function(t,e,n){n(15);var i=n(13)(n(46),n(14),null,null);t.exports=i.exports},function(t,e,n){e=t.exports=n(12)(!0),e.push([t.i,".steve-container{position:relative;display:inline-block}","",{version:3,sources:["E:/WebStormProject/vue-steve/src/components/Steve.vue"],names:[],mappings:"AACA,iBACE,kBAAmB,AACnB,oBAAsB,CACvB",file:"Steve.vue",sourcesContent:["\n.steve-container {\r\n  position: relative;\r\n  display: inline-block;\n}\r\n"],sourceRoot:""}])},function(t,e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=i(o);return[n].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([r]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e){t.exports=function(t,e,n,i){var o,r=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,r=t.default);var a="function"==typeof r?r.options:r;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),n&&(a._scopeId=n),i){var u=Object.create(a.computed||null);Object.keys(i).forEach(function(t){var e=i[t];u[t]=function(){return e}}),a.computed=u}return{esModule:o,exports:r,options:a}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"steve-container"})},staticRenderFns:[]}},function(t,e,n){var i=n(11);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(16)("4abc6f02",i,!0)},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=c[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(r(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var s=[],o=0;o<n.parts.length;o++)s.push(r(n.parts[o]));c[n.id]={id:n.id,refs:1,parts:s}}}}function o(){var t=document.createElement("style");return t.type="text/css",f.appendChild(t),t}function r(t){var e,n,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(p)return m;i.parentNode.removeChild(i)}if(v){var r=d++;i=l||(l=o()),e=s.bind(null,i,r,!1),n=s.bind(null,i,r,!0)}else i=o(),e=a.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function s(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function a(t,e){var n=e.css,i=e.media,o=e.sourceMap;if(i&&t.setAttribute("media",i),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!u)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var h=n(17),c={},f=u&&(document.head||document.getElementsByTagName("head")[0]),l=null,d=0,p=!1,m=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){p=n;var o=h(t,e);return i(o),function(e){for(var n=[],r=0;r<o.length;r++){var s=o[r],a=c[s.id];a.refs--,n.push(a)}e?(o=h(t,e),i(o)):o=[];for(var r=0;r<n.length;r++){var a=n[r];if(0===a.refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete c[a.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],i={},o=0;o<e.length;o++){var r=e[o],s=r[0],a=r[1],u=r[2],h=r[3],c={id:t+":"+o,css:a,media:u,sourceMap:h};i[s]?i[s].parts.push(c):n.push(i[s]={id:s,parts:[c]})}return n}},function(t,e,n){n(41);var i=n(1).Object;t.exports=function(t,e){return i.defineProperties(t,e)}},function(t,e,n){n(42);var i=n(1).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(9),o=n(38),r=n(37);t.exports=function(t){return function(e,n,s){var a,u=i(e),h=o(u.length),c=r(s,h);if(t&&n!=n){for(;h>c;)if((a=u[c++])!=a)return!0}else for(;h>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(20);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(3),o=n(2).document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(4),o=n(34);t.exports=n(0)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(0)&&!n(7)(function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(4),o=n(5),r=n(33);t.exports=n(0)?Object.defineProperties:function(t,e){o(t);for(var n,s=r(e),a=s.length,u=0;a>u;)i.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var i=n(27),o=n(9),r=n(21)(!1),s=n(35)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,h=[];for(n in a)n!=s&&i(a,n)&&h.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~r(h,n)||h.push(n));return h}},function(t,e,n){var i=n(32),o=n(26);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(36)("keys"),o=n(40);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var i=n(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var i=n(8),o=Math.max,r=Math.min;t.exports=function(t,e){return t=i(t),t<0?o(t+e,0):r(t,e)}},function(t,e,n){var i=n(8),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(3);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(6);i(i.S+i.F*!n(0),"Object",{defineProperties:n(31)})},function(t,e,n){var i=n(6);i(i.S+i.F*!n(0),"Object",{defineProperty:n(4).f})},function(t,e,n){t.exports={default:n(18),__esModule:!0}},function(t,e,n){t.exports={default:n(19),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var i=n(44),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(45),o=n.n(i),r=n(43),s=n.n(r),a=n(48),u=n.n(a),h=n(49);e.default={name:"steve",props:{width:{type:Number,default:480,validator:function(t){return t>=0}},height:{type:Number,default:640,validator:function(t){return t>=0}},pace:{type:Number,default:6,validator:function(t){return t>=1&&t<=10}},speed:{type:Number,default:2,validator:function(t){return t>=-18&&t<=18}},rotationX:{type:Number,default:10},rotationY:{type:Number,default:10},skinUrl:{default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAABGdBTUEAALGPC/xhBQAAABh0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjM2qefiJQAABONJREFUaEPll99rVEcUx6+IUk1ijbQYosYfG+OaRtb4g2JEY42/EYuRipqioqIxMQiLVlDE+INqKlSfAkq0UChIUXzwFyL2sU956X9TmofjfM/u9/ZknLs30cUN8cJh5s6cuTvfz5w5MzslSnmaF9QIXP4bGYmmT5um3qjjGfl3arT/28aSX7j9+p8pab8xofsBoLHuC8kt/FKN72iDnd+ek55NK+XnfWviEnW0wya0uLFMDoIpvql+ZiKATCYj1gBlUgDg6nPlURIKSkbApAVgxSICYHY7fBYAAMEXz3yQBKAz2zQ5tgDFQ/Dy+dUKYuHsqjghEgD2vG+TIgcAAIUzCpgMmQOY8UPlWBJtRX2y82YKDKKWzatSsasys2XFooLlFtXINw2FkyA7v0qPPviiDQDohzEYi2+gn99l0sQ4W8c7Iqmi4vHjFgAm3tIwS4VA4OrGWi1peN/cPEfam79WPwChD8agjVFiAZS6R1QcgE66rrBqBeFOmFvFxjq+18jLgTPy9te8/D3YL29v5139nDz+6ZCsWTpHx8AXYzA23i7um/h22j2i4gB0pepdKC+YVVhV944wRj23pFb+vHxSnt/o0/JJf58M5X+UNwN5GTq9Ww0+8MUYjEUd38I38Z52j5gYAOI8UC2ZuTPk5oE2GTq+VdqyX6l4PJ0bBuTFpVMqHnU8gAIf+GIMxjbVV8f7HwDS7hETB4BbMWyFloZaudHZKoNHvpNbh9Y5cdvk2aVj8upaPj7m/rp1Rn7v2S797s4PH/hiDMbiG1x9Aih1j6g4AIY9wvZYR04e9Hwv949v0T83ONbuHu5wAjfJhc1rR9mdwxvl6r516gNfjMFYfEO3QHE7pN0jKg4Ak6cAlEOnduiK/nJwvZzbkZOzW1ukr6NZxcIu7lkt139Yr4Y6fOD7W/dOHXv/xK5CWYRIkPYOgTrBVRyAP4H9O4fFWjabFWupEx4ejv8K+xejyPVFR4+WtrQfePRI9DswV8ftc2/r0rhMG57aXw4AoWsx2soCgOKL5ecNwEWAXX2F/LFPOSIg6b9BWSLA2wIfDWBlNi+wpsVdWm5r+2OU2T6/v611QKIrV/63ri6J7t2T6OFDTZg4Kpk80aZm/VFHG0TRnj6VCMb3JH/6+P0czzItIijwQwAAlgrq7i4Y6px4EQIAqEhOyPpjDPz9SVsA/Da/zz6UBGp//0MBMBLGEwEKIDRBThITRERYkdYf9ZB4GwUhwHaM3//JASDsKQp1OwECsG1J/gBFcLbuC7TR9KkiwOYB7HtrKh6iaJg8BUAQ62y3vgSGCAkBcONxKaPddJcv/P+whjbr4/enpYAolOQoECHu54j3AFhBgGEBhIRZYNwCoTHFbRMCMHi2K4aAfguhLABsHih1CsQ5gBAIgCFv9z9hEAC3jQ175goDxIpjBBAAyhAAbS9CGlMEMAGO9xgMngJ++FMUAfinQAhWAgCItSvsAwhtkbIAKAXovWPQJjz/BMB7Wtb2sjgjgGUIQKkckQqgvb1dYKWOQfTRr7e3V6zFgngh4er54c+E6AOw/vQxCdGK8yMAMGyOYL/dImMGkCSQ7Un9NkfgMuXfI/CuN0YDAH724sXEqveFIhC0YWwSAIoMRUjFAIRyCIEoBCcu9WrtfCxEf4VHJUCX6ELH4HgAvAMPTt9mhQSK5wAAAABJRU5ErkJggg=="},scale:{type:Number,default:1,validator:function(t){return t>0}},stareMouse:{type:Boolean,default:!0},followScope:{default:"window",validator:function(t){return~["box","window"].indexOf(t)}},walkable:{type:Boolean,default:!0},throttle:{type:Number,default:8,validator:function(t){return t>0}}},watch:{skinUrl:function(t,e){this.setSkin(t)},pace:function(t,e){this.resetStatus()},speed:function(t,e){this.resetStatus()},rotationX:function(t,e){this.model.rotation.y=this.rotationX%360/180*Math.PI},rotationY:function(t,e){this.model.rotation.x=this.rotationY%360/180*Math.PI},stareMouse:function(t,e){this.resetEvent(),this.resetStatus()},followScope:function(t,e){this.resetEvent(),this.resetStatus()}},data:function(){return{renderer:"",camera:"",scene:"",light:"",modelUV:{},skin:"",parts:{},model:{},stepDirection:1,baseValue:0,head_offset_x:0,head_offset_y:0,hover:!1,tempX:0,tempY:0,throttleSwich:!0,animationFrame:""}},mounted:function(){this.init()},methods:{setSkin:function(t){this.skinUrl=t,this.scene.remove(this.model),this.$el.removeChild(this.renderer.domElement),this.renderer=null,this.init(),this.resetStatus(),window.cancelAnimationFrame(this.animationFrame)},resetStatus:function(){this.stepDirection=1,this.baseValue=0,this.head_offset_x=0,this.head_offset_y=0},resetEvent:function(){document.removeEventListener(this.isMobile()?"touchmove":"mousemove",this.moveEvent),document.removeEventListener(this.isMobile()?"touchend":"mouseout",this.moveEndEven),this.renderer.domElement.removeEventListener(this.isMobile()?"touchmove":"mousemove",this.boxScopeMoveEvent),this.isMobile()&&(document.removeEventListener("touchstart",this.moveEvent),document.removeEventListener("touchcancel",this.moveEndEven)),this.stareMouse&&("window"===this.followScope||this.isMobile()?document.addEventListener(this.isMobile()?"touchmove":"mousemove",this.moveEvent):this.renderer.domElement.addEventListener("mousemove",this.boxScopeMoveEvent),document.addEventListener(this.isMobile()?"touchend":"mouseout",this.moveEndEven),this.isMobile()&&(document.addEventListener("touchstart",this.moveEvent),document.addEventListener("touchcancel",this.moveEndEven)))},init:function(){var t=this;this.initThree(),this.initCamera(),this.initScene(),this.initLight(),this.initObject(),setTimeout(function(){t.model.add(t.buildModel(u.a)),t.model.rotation.y=t.rotationX/180*Math.PI,t.model.rotation.x=t.rotationY/180*Math.PI,t.animation()},0)},initThree:function(){this.renderer=new h.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(this.width,this.height),this.$el.appendChild(this.renderer.domElement),this.resetEvent()},initCamera:function(){this.camera=new h.PerspectiveCamera(45,this.width/this.height,1,100),this.camera.position.x=0,this.camera.position.y=0,this.camera.position.z=5,this.camera.up.x=0,this.camera.up.y=1,this.camera.up.z=0,this.camera.lookAt({x:0,y:0,z:0})},initScene:function(){this.scene=new h.Scene,this.scene.add(new h.AmbientLight(13421772))},initLight:function(){this.light=new h.PointLight(16777215),this.light.position.set(0,3,10),this.scene.add(this.light)},initObject:function(){var t=this,e=new h.TextureLoader;this.skin=e.load(this.skinUrl),this.skin.magFilter=h.NearestFilter,this.skin.minFilter=h.NearestFilter,this.modelUV.materials=[new h.MeshBasicMaterial({map:this.skin,side:h.DoubleSide,transparent:!1,color:16777215}),new h.MeshBasicMaterial({map:this.skin,side:h.DoubleSide,transparent:!0,color:16777215})],this.modelUV.uRatio=1/64,this.modelUV.vRatio=1/32,this.modelUV.mapUV=function(e,n){var i,o,r,s,a,u,h,c,f;for(i=c=0;c<6;i=++c)r=4*i,f=n.slice(r,r+4),s=f[0],u=f[1],a=f[2],h=f[3],o=e.faceVertexUvs[0][2*i],o[0].set(s*t.modelUV.uRatio,u*t.modelUV.vRatio),o[1].set(s*t.modelUV.uRatio,h*t.modelUV.vRatio),o[2].set(a*t.modelUV.uRatio,u*t.modelUV.vRatio),o=e.faceVertexUvs[0][2*i+1],o[0].set(s*t.modelUV.uRatio,h*t.modelUV.vRatio),o[1].set(a*t.modelUV.uRatio,h*t.modelUV.vRatio),o[2].set(a*t.modelUV.uRatio,u*t.modelUV.vRatio)},this.modelUV.recenter=function(t,e){var n,i,o,r;i=e[0],o=e[1],r=e[2],n=new h.Matrix4,n.makeTranslation(-i,-o,-r),t.applyMatrix(n)},this.model=new h.Object3D,this.model.scale.set(.1*this.scale,.1*this.scale,.1*this.scale),this.scene.add(this.model)},moveEvent:function(t){var e=this;if(this.throttleSwich){this.throttleSwich=!1,setTimeout(function(){e.throttleSwich=!0},this.throttle);var n,i=this.$el.getBoundingClientRect(),o=i.left+this.width/2,r=i.top+this.height/3,s=0;this.isMobile()?(n=t.changedTouches[0].clientX-o,s=t.changedTouches[0].clientY-r):(n=t.clientX-o,s=t.clientY-r),this.tempX=this.head_offset_x,this.tempY=this.head_offset_y;var a=this.rotationX/180*Math.PI,u=this.rotationY/360*Math.PI;0===n?this.tempX=-a:Math.abs(n)<=500?this.tempX=n/500*.6-a:Math.abs(n)<=1e3?this.tempX=(n>0?.5:-.5)+n/5e3-a:Math.abs(n)<=2e3?this.tempX=(n>0?.6:-.6)+n/1e4-a:this.tempX=(n>0?.8:-.8)-a,0===s?this.tempY=.1-u:Math.abs(s)<=300?this.tempY=s/1500+.1-u:Math.abs(s)<=900?this.tempY=(s>0?.2:s/6e3+.05)+s/3e3-u:this.tempY=(s>0?.5:-.4)-u,Math.abs(this.tempX)>Math.PI/3||this.tempY>Math.PI/5||this.tempY<-Math.PI/5?this.hover=!1:this.hover=!0}},moveEndEven:function(t){this.hover=!1},boxScopeMoveEvent:function(t){var e=this;if(this.throttleSwich){this.throttleSwich=!1,setTimeout(function(){e.throttleSwich=!0},this.throttle);var n=t.offsetX,i=t.offsetY;this.tempX=this.head_offset_x,this.tempY=this.head_offset_y,0===n?this.tempX=-this.rotationX/180*Math.PI:Math.abs(n)<=this.width?this.tempX=2*(n-this.width/2)/this.width*.8-this.rotationX/180*Math.PI:this.tempX=0,0===i?this.tempY=.1-this.rotationY/360*Math.PI:Math.abs(i)<=this.height?this.tempY=2*(i-this.height/3)/this.height*.5+.1-this.rotationY/360*Math.PI:this.tempY=0,Math.abs(this.tempX)>Math.PI/3||this.tempY>Math.PI/5||this.tempY<-Math.PI/5?this.hover=!1:this.hover=!0}},animation:function(){this.tasks,this.walkAction(),this.stareMouseAction(),this.renderer.render(this.scene,this.camera),this.animationFrame=requestAnimationFrame(this.animation)},walkAction:function(){this.walkable&&(this.armL_x=this.legR_x=this.legR_x=this.baseValue=this.baseValue+this.stepDirection*this.speed/100,this.armR_x=this.legL_x=-this.baseValue+this.stepDirection*this.speed/100,this.model.rotation.y=this.model.rotation.y+this.baseValue/400,this.head_y=this.baseValue/-8,this.head_x=this.baseValue/24,Math.abs(this.baseValue)>this.pace/10&&(this.stepDirection*=-1))},isMobile:function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),n=!1,i=0;i<e.length;i++)if(t.indexOf(e[i])>0){n=!0;break}return n},stareMouseAction:function(){this.stareMouse&&(this.hover?(this.head_offset_x-this.tempX>.2?this.head_offset_x-=.08:this.head_offset_x-this.tempX<-.2?this.head_offset_x+=.08:this.head_offset_x=this.tempX,this.head_offset_y-this.tempY>.2?this.head_offset_y-=.08:this.head_offset_y-this.tempY<-.2?this.head_offset_y+=.08:this.head_offset_y=this.tempY):(this.head_offset_x>.01?this.head_offset_x-=.01:this.head_offset_x<-.01&&(this.head_offset_x+=.01),this.head_offset_y>.01?this.head_offset_y-=.01:this.head_offset_y<-.01&&(this.head_offset_y+=.01)),this.head_y=this.baseValue/-8+this.head_offset_x,this.head_x=this.baseValue/24+this.head_offset_y)},loadSkin:function(t){this.skin.image.src=t},buildModel:function(t){var e,n,i,r,a,u,c,f,l,d,p,m,v=this;if(t.size?(d=t.size,c=d[0],r=d[1],n=d[2],i=new h.BoxGeometry(c,r,n,1,1,1),null!=t.anchor&&this.modelUV.recenter(i,t.anchor),null!=t.uv&&this.modelUV.mapUV(i,t.uv),a=new h.Mesh(i,this.modelUV.materials[+!!t.transparent])):a=new h.Object3D,null!=t.eulerOrder&&(a.rotation.order=t.eulerOrder),null!=t.children){for(p=t.children,f=0,l=p.length;f<l;f++)u=p[f],e=this.buildModel(u),a.add(e);a.traverse(function(t){if(t.name){var e;s()(v,(e={},o()(e,t.name+"_x",{set:function(e){t.rotation.x=e},get:function(){return t.rotation.x},configurable:!0}),o()(e,t.name+"_y",{set:function(e){t.rotation.y=e},get:function(){return t.rotation.y||0},configurable:!0}),o()(e,t.name+"_z",{set:function(e){t.rotation.z=e},get:function(){return t.rotation.z||0},configurable:!0}),e))}})}return null!=t.name&&(a.name=t.name),null!=t.offset&&(m=a.position).set.apply(m,t.offset),a}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n.n(i);e.default=o.a,"undefined"!=typeof window&&window.Vue&&window.Vue.component("Steve",o.a)},function(t,e){t.exports={name:"torso",size:[8,12,4],uv:[28,12,32,0,16,12,20,0,20,16,28,12,28,16,32,12,20,12,28,0,32,12,40,0],children:[{name:"head",eulerOrder:"YXZ",offset:[0,6,0],children:[{size:[8,8,8],anchor:[0,-4,0],uv:[16,24,24,16,0,24,8,16,8,32,16,24,16,32,24,24,8,24,16,16,24,24,32,16]},{size:[9,9,9],anchor:[0,-4,0],transparent:!0,uv:[48,24,56,16,32,24,40,16,40,32,48,24,48,32,56,24,40,24,48,16,56,24,64,16]}]},{name:"armR",eulerOrder:"ZXY",size:[3,12,3],anchor:[0,4,0],offset:[-5.5,4,0],uv:[48,12,52,0,40,12,44,0,44,16,48,12,48,16,52,12,44,12,48,0,52,12,56,0]},{name:"armL",eulerOrder:"ZXY",size:[3,12,3],anchor:[0,4,0],offset:[5.5,4,0],uv:[44,12,40,0,52,12,48,0,44,16,48,12,48,16,52,12,48,12,44,0,56,12,52,0]},{name:"legR",size:[4,12,4],anchor:[0,4,0],offset:[-2,-8,0],uv:[8,12,12,0,0,12,4,0,4,16,8,12,8,16,12,12,4,12,8,0,12,12,16,0]},{name:"legL",size:[4,12,4],anchor:[0,4,0],offset:[2,-8,0],uv:[4,12,0,0,12,12,8,0,8,16,4,12,12,16,8,12,8,12,4,0,16,12,12,0]}]}},function(e,n){e.exports=t}])});
//# sourceMappingURL=vue-steve.js.map